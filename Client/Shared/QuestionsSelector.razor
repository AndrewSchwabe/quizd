@using BlazorApp.Shared;
@inject HttpClient Http;

<h3>QuestionsSelector</h3>

@foreach(var question in Questions)
{
    <div>
        <div>Question: @question.Title</div>
        <div>Answer Count: @question.AnswerCount</div>
    </div>    
}

@code {
    private IEnumerable<QuestionModel> Questions = new List<QuestionModel>();

    protected override async Task OnInitializedAsync()
    {
        Questions = await Http.GetFromJsonAsync<IEnumerable<QuestionModel>>("/api/Questions") ?? new List<QuestionModel>();
    }
}
